#define X(a,b)(*i==a)-(*i==b)
#define Z(a,o,p)if(*i==a&&o*m)do r+=X(a,(a^6)),i p;while(r);
r;char*i,M[30000],*m=M;main(int c,char**v){i=v[1];for(;*m+=X(43,45),m+=X(62,60),*i==44?read(0,m,1):*i^46||write(1,m,1),*i;i++)Z(91,!,++)else Z(93,,--)}
